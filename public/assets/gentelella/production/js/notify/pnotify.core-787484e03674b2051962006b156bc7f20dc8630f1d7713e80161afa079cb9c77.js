!function(t){"function"==typeof define&&define.amd?define("pnotify",["jquery"],t):t(jQuery)}(function(a){var s,c,t={dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25,context:a("body")},r=a(window),i=function(){c=a("body"),PNotify.prototype.options.stack.context=c,(r=a(window)).bind("resize",function(){s&&clearTimeout(s),s=setTimeout(function(){PNotify.positionAll(!0)},10)})};return PNotify=function(t){this.parseOptions(t),this.init()},a.extend(PNotify.prototype,{version:"2.0.1",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"bootstrap3",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,opacity:1,animation:"fade",animate_speed:"slow",position_animate_speed:500,shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:t},modules:{},runModules:function(t,i){var s;for(var o in this.modules)s="object"==typeof i&&o in i?i[o]:i,"function"==typeof this.modules[o][t]&&this.modules[o][t](this,"object"==typeof this.options[o]?this.options[o]:{},s)},state:"initializing",timer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,timerHide:!1,init:function(){var t=this;return this.modules={},a.extend(!0,this.modules,PNotify.prototype.modules),this.styles="object"==typeof this.options.styling?this.options.styling:PNotify.styling[this.options.styling],this.elem=a("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},mouseenter:function(){if(t.options.mouse_reset&&"out"===t.animating){if(!t.timerHide)return;t.cancelRemove()}t.options.hide&&t.options.mouse_reset&&t.cancelRemove()},mouseleave:function(){t.options.hide&&t.options.mouse_reset&&t.queueRemove(),PNotify.positionAll()}}),this.container=a("<div />",{"class":this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:"dark"===this.options.type?this.styles.dark:this.styles.notice)}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),!1!==this.options.icon&&a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:"dark"===this.options.type?this.styles.dark_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container),this.title_container=a("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container),!1===this.options.title?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=a("<div />",{"class":"ui-pnotify-text"}).appendTo(this.container),!1===this.options.text?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.width&&this.elem.css("width",this.options.width),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),PNotify.notices="top"===this.options.stack.push?a.merge([this],PNotify.notices):a.merge(PNotify.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.options.auto_display&&this.open(),this},update:function(t){var i=this.options;return this.parseOptions(i,t),this.options.cornerclass!==i.cornerclass&&this.container.removeClass("ui-corner-all "+i.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==i.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),!1===this.options.addclass?this.elem.removeClass(i.addclass):this.options.addclass!==i.addclass&&this.elem.removeClass(i.addclass).addClass(this.options.addclass),!1===this.options.title?this.title_container.slideUp("fast"):this.options.title!==i.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),!1===i.title&&this.title_container.slideDown(200)),!1===this.options.text?this.text_container.slideUp("fast"):this.options.text!==i.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),!1===i.text&&this.text_container.slideDown(200)),this.options.type!==i.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),(this.options.icon!==i.icon||!0===this.options.icon&&this.options.type!==i.type)&&(this.container.find("div.ui-pnotify-icon").remove(),!1!==this.options.icon&&a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)),this.options.width!==i.width&&this.elem.animate({width:this.options.width}),this.options.min_height!==i.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.opacity!==i.opacity&&this.elem.fadeTo(this.options.animate_speed,this.options.opacity),this.options.hide?i.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",i),this},open:function(){this.state="opening",this.runModules("beforeOpen");var t=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:c),"top"!==this.options.stack.push&&this.position(!0),"fade"===this.options.animation||"fade"===this.options.animation.effect_in?this.elem.show().fadeTo(0,0).hide():1!==this.options.opacity&&this.elem.show().fadeTo(0,this.options.opacity).hide(),this.animateIn(function(){t.queuePosition(!0),t.options.hide&&t.queueRemove(),t.state="open",t.runModules("afterOpen")}),this},remove:function(t){this.state="closing",this.timerHide=!!t,this.runModules("beforeClose");var i=this;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(i.state="closed",i.runModules("afterClose"),i.queuePosition(!0),i.options.remove&&i.elem.detach(),i.runModules("beforeDestroy"),i.options.destroy&&null!==PNotify.notices){var t=a.inArray(i,PNotify.notices);-1!==t&&PNotify.notices.splice(t,1)}i.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(t,i){this.options=a.extend(!0,{},PNotify.prototype.options),this.options.stack=PNotify.prototype.options.stack;var s,o=[t,i];for(var e in o){if(void 0===(s=o[e]))break;if("object"!=typeof s)this.options.text=s;else for(var n in s)this.modules[n]?a.extend(!0,this.options[n],s[n]):this.options[n]=s[n]}},animateIn:function(t){var i;this.animating="in","none"===(i="undefined"!=typeof this.options.animation.effect_in?this.options.animation.effect_in:this.options.animation)?(this.elem.show(),t()):"show"===i?this.elem.show(this.options.animate_speed,t):"fade"===i?this.elem.show().fadeTo(this.options.animate_speed,this.options.opacity,t):"slide"===i?this.elem.slideDown(this.options.animate_speed,t):"function"==typeof i?i("in",t,this.elem):this.elem.show(i,"object"==typeof this.options.animation.options_in?this.options.animation.options_in:{},this.options.animate_speed,t),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==i&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},animateOut:function(t){var i;this.animating="out","none"===(i="undefined"!=typeof this.options.animation.effect_out?this.options.animation.effect_out:this.options.animation)?(this.elem.hide(),t()):"show"===i?this.elem.hide(this.options.animate_speed,t):"fade"===i?this.elem.fadeOut(this.options.animate_speed,t):"slide"===i?this.elem.slideUp(this.options.animate_speed,t):"function"==typeof i?i("out",t,this.elem):this.elem.hide(i,"object"==typeof this.options.animation.options_out?this.options.animation.options_out:{},this.options.animate_speed,t),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==i&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},position:function(t){var i=this.options.stack,s=this.elem;if(s.parent().hasClass("ui-effects-wrapper")&&(s=this.elem.css({left:"0",top:"0",right:"0",bottom:"0"}).parent()),"undefined"==typeof i.context&&(i.context=c),i){"number"!=typeof i.nextpos1&&(i.nextpos1=i.firstpos1),"number"!=typeof i.nextpos2&&(i.nextpos2=i.firstpos2),"number"!=typeof i.addpos2&&(i.addpos2=0);var o="none"===s.css("display");if(!o||t){var e,n,a,p,h={};switch(i.dir1){case"down":a="top";break;case"up":a="bottom";break;case"left":a="right";break;case"right":a="left"}switch(e=parseInt(s.css(a).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(e)&&(e=0),"undefined"!=typeof i.firstpos1||o||(i.firstpos1=e,i.nextpos1=i.firstpos1),i.dir2){case"down":p="top";break;case"up":p="bottom";break;case"left":p="right";break;case"right":p="left"}if(n=parseInt(s.css(p).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(n)&&(n=0),"undefined"!=typeof i.firstpos2||o||(i.firstpos2=n,i.nextpos2=i.firstpos2),("down"===i.dir1&&i.nextpos1+s.height()>(i.context.is(c)?r.height():i.context.prop("scrollHeight"))||"up"===i.dir1&&i.nextpos1+s.height()>(i.context.is(c)?r.height():i.context.prop("scrollHeight"))||"left"===i.dir1&&i.nextpos1+s.width()>(i.context.is(c)?r.width():i.context.prop("scrollWidth"))||"right"===i.dir1&&i.nextpos1+s.width()>(i.context.is(c)?r.width():i.context.prop("scrollWidth")))&&(i.nextpos1=i.firstpos1,i.nextpos2+=i.addpos2+("undefined"==typeof i.spacing2?25:i.spacing2),i.addpos2=0),i.animation&&i.nextpos2<n)switch(i.dir2){case"down":h.top=i.nextpos2+"px";break;case"up":h.bottom=i.nextpos2+"px";break;case"left":h.right=i.nextpos2+"px";break;case"right":h.left=i.nextpos2+"px"}else"number"==typeof i.nextpos2&&s.css(p,i.nextpos2+"px");switch(i.dir2){case"down":case"up":s.outerHeight(!0)>i.addpos2&&(i.addpos2=s.height());break;case"left":case"right":s.outerWidth(!0)>i.addpos2&&(i.addpos2=s.width())}if("number"==typeof i.nextpos1)if(i.animation&&(e>i.nextpos1||h.top||h.bottom||h.right||h.left))switch(i.dir1){case"down":h.top=i.nextpos1+"px";break;case"up":h.bottom=i.nextpos1+"px";break;case"left":h.right=i.nextpos1+"px";break;case"right":h.left=i.nextpos1+"px"}else s.css(a,i.nextpos1+"px");switch((h.top||h.bottom||h.right||h.left)&&s.animate(h,{duration:this.options.position_animate_speed,queue:!1}),i.dir1){case"down":case"up":i.nextpos1+=s.height()+("undefined"==typeof i.spacing1?25:i.spacing1);break;case"left":case"right":i.nextpos1+=s.width()+("undefined"==typeof i.spacing1?25:i.spacing1)}}return this}},queuePosition:function(t,i){return s&&clearTimeout(s),i||(i=10),s=setTimeout(function(){PNotify.positionAll(t)},i),this},cancelRemove:function(){return this.timer&&window.clearTimeout(this.timer),"closing"===this.state&&(this.elem.stop(!0),this.state="open",this.animating="in",this.elem.css("height","auto").animate({width:this.options.width,opacity:this.options.opacity},"fast")),this},queueRemove:function(){var t=this;return this.cancelRemove(),this.timer=window.setTimeout(function(){t.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),a.extend(PNotify,{notices:[],removeAll:function(){a.each(PNotify.notices,function(){this.remove&&this.remove()})},positionAll:function(i){s&&clearTimeout(s),s=null,a.each(PNotify.notices,function(){var t=this.options.stack;t&&(t.nextpos1=t.firstpos1,t.nextpos2=t.firstpos2,t.addpos2=0,t.animation=i)}),a.each(PNotify.notices,function(){this.position()})},styling:{jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap2:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",dark:"alert-dark",success_icon:"glyphicon glyphicon-ok-sign",dark_icon:"glyphicon glyphicon-bullhorn",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),PNotify.styling.fontawesome=a.extend({},PNotify.styling.bootstrap3),a.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),document.body?i():a(i),PNotify});