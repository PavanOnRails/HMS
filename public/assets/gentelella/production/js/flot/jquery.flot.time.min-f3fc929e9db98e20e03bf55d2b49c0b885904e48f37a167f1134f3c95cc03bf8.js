!function(t){function y(e,t){return t*Math.floor(e/t)}function s(e,t,n,r){if("function"==typeof e.strftime)return e.strftime(t);var a,i=function(e,t){return t=""+(null==t?"0":t),1==(e=""+e).length?t+e:e},o=[],s=!1,u=e.getHours(),m=u<12;null==n&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==r&&(r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),a=12<u?u-12:0==u?12:u;for(var c=0;c<t.length;++c){var l=t.charAt(c);if(s){switch(l){case"a":l=""+r[e.getDay()];break;case"b":l=""+n[e.getMonth()];break;case"d":l=i(e.getDate());break;case"e":l=i(e.getDate()," ");break;case"H":l=i(u);break;case"I":l=i(a);break;case"l":l=i(a," ");break;case"m":l=i(e.getMonth()+1);break;case"M":l=i(e.getMinutes());break;case"S":l=i(e.getSeconds());break;case"y":l=i(e.getFullYear()%100);break;case"Y":l=""+e.getFullYear();break;case"p":l=m?"am":"pm";break;case"P":l=m?"AM":"PM";break;case"w":l=""+e.getDay()}o.push(l),s=!1}else"%"==l?s=!0:o.push(l)}return o.join("")}function r(e){function t(e,t,n,r){e[t]=function(){return n[r].apply(n,arguments)}}var n={date:e};e.strftime!=undefined&&t(n,"strftime",e,"strftime"),t(n,"getTime",e,"getTime"),t(n,"setTime",e,"setTime");for(var r=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],a=0;a<r.length;a++)t(n,"get"+r[a],e,"getUTC"+r[a]),t(n,"set"+r[a],e,"setUTC"+r[a]);return n}function M(e,t){if("browser"==t.timezone)return new Date(e);if(t.timezone&&"utc"!=t.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var n=new timezoneJS.Date;return n.setTimezone(t.timezone),n.setTime(e),n}return r(new Date(e))}return r(new Date(e))}function e(e){e.hooks.processDatapoints.push(function(e){t.each(e.getAxes(),function(e,t){var k=t.options;"time"==k.mode&&(t.tickGenerator=function(e){var t=[],n=M(e.min,k),r=0;null!=k.minTickSize&&(r="number"==typeof k.tickSize?k.tickSize:k.minTickSize[0]*S[k.minTickSize[1]]);for(var a=0;a<p.length-1&&!(e.delta<(p[a][0]*S[p[a][1]]+p[a+1][0]*S[p[a+1][1]])/2&&p[a][0]*S[p[a][1]]>=r);++a);var i=p[a][0],o=p[a][1];if("year"==o){if(null!=k.minTickSize&&"year"==k.minTickSize[1])i=Math.floor(k.minTickSize[0]);else{var s=Math.pow(10,Math.floor(Math.log(e.delta/S.year)/Math.LN10)),u=e.delta/S.year/s;i=u<1.5?1:u<3?2:u<7.5?5:10,i*=s}i<1&&(i=1)}e.tickSize=k.tickSize||[i,o];var m=e.tickSize[0];o=e.tickSize[1];var c=m*S[o];"second"==o&&n.setSeconds(y(n.getSeconds(),m)),"minute"==o&&n.setMinutes(y(n.getMinutes(),m)),"hour"==o&&n.setHours(y(n.getHours(),m)),"month"==o&&n.setMonth(y(n.getMonth(),m)),"year"==o&&n.setFullYear(y(n.getFullYear(),m)),n.setMilliseconds(0),c>=S.minute&&n.setSeconds(0),c>=S.hour&&n.setMinutes(0),c>=S.day&&n.setHours(0),c>=4*S.day&&n.setDate(1),c>=S.year&&n.setMonth(0);var l,f=0,h=Number.NaN;do{if(l=h,h=n.getTime(),t.push(h),"month"==o)if(m<1){n.setDate(1);var d=n.getTime();n.setMonth(n.getMonth()+1);var g=n.getTime();n.setTime(h+f*S.hour+(g-d)*m),f=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+m);else"year"==o?n.setFullYear(n.getFullYear()+m):n.setTime(h+c)}while(h<e.max&&h!=l);return t},t.tickFormatter=function(e,t){var n=M(e,t.options);if(null!=k.timeformat)return s(n,k.timeformat,k.monthNames,k.dayNames);var r=t.tickSize[0]*S[t.tickSize[1]],a=t.max-t.min,i=k.twelveHourClock?" %p":"",o=k.twelveHourClock?"%I":"%H";return r<S.minute?fmt=o+":%M:%S"+i:r<S.day?a<2*S.day?fmt=o+":%M"+i:fmt="%b %d "+o+":%M"+i:r<S.month?fmt="%b %d":r<S.year?a<S.year?fmt="%b":fmt="%b %Y":fmt="%Y",s(n,fmt,k.monthNames,k.dayNames)})})})}var n={},S={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},p=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];t.plot.plugins.push({init:e,options:n,name:"time",version:"1.0"})}(jQuery);